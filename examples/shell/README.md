# Requirements

* swig
* Ruby (>= 2.0.0)
* pry (Ruby gem for shell; run `gem install pry` if you don't already have it)
* exisiting installation of RocksDB (along with all of its dependencies,
and with the shared library compiled)

# Overview

This is a simple example of a shell for RocksDB implementing using a Swig
wrapper for C++ and coded in Ruby. So far, just the "get" and "put" functions
are implemented, although it's possible to open an existing database in the
shell.

# Platforms

Ideally, the shell should work for all OS X and Linux platforms. Currently, I've
tested it on my local machine (Archlinux with Ruby 2.1.3) and a test AWS
instance (RHEL 7 with both Ruby 2.1.3 and Ruby 2.0.0). I'm hopeful that it
should work on OS X as well; from Googling, it seems that OS X 10.9 comes with
Ruby 2.0 by default, so even if someone hasn't installed a newer version, it
should be fine, assuming they're able to install the dependencies.

# Installation

1. Copy `shell.tgz` into the `rocksdb/examples` folder, extract it, and enter
the `shell` directory.

		cp path/to/shell.tgz path/to/rocksdb/examples
		cd path/to/rocksdb/examples
		tar xvf shell.tgz
		cd shell

2. Run the `premake` binary to generate the Swig wrapper and the Makefile.

		./premake

3. Run the Makefile to compile the C++ code generated by Swig.

		make

# Usage

## Starting the shell

### Running a test shell (with no database specified)

Running the shell without specifying a database generates a random 32-digit
hex string and then opens the file with that name in `/tmp` (e.g.
`/tmp/25f681a38c319cbfeb77a782b2cac51e`).

	./shell

### Running the shell for an existing database

Pass the location of the shell in `/tmp` as an argument to `shell`. For example,
to open `/tmp/test_database`, run the following command:

	./shell test_database

## Using the shell

The shell implements two RocksDB commands---`get` and `put`. `get` takes a
string argument of a key, and `put` takes a key and a value. Additionally, you
can run `help` to see the list of commands available along with their syntax,
and a `quit` command to exit the shell.

Because the shell uses the Ruby's readline implementation, there are some basic
shell shortcuts available (i.e. using the arrow keys to navigate the current
command and the history, hitting ^L to clear the terminal, and hitting ^C or ^D
to exit the shell).
